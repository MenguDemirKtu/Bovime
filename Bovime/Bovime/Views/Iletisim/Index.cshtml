@{
    Layout = "~/Views/_genel.cshtml";
}
<style> 
    .iconbox span {
        display: block;
        font-size: 14px;
        color: #888;
        margin-bottom: 4px;
    }
     
    .social-icons a {
        font-size: 20px;
        color: #444;
        margin-right: 12px;
        transition: color 0.3s ease, transform 0.3s ease;
        text-decoration: none;
    }

        .social-icons a:hover {
            color: #0d6efd;  
            transform: scale(1.2);
        }

</style>
@using Bovime
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />


<div class="site-primary" id="main">
    <div class="site-content" id="content">
        <div class="elementor elementor-2144" data-elementor-id="2144" data-elementor-type="wp-page">

            <!-- ÜST BREADCRUMB -->
            <section class="elementor-section elementor-top-section elementor-element elementor-element-ecb62ad elementor-section-boxed">
                <div class="elementor-container">
                    <div class="row">
                        <div class="col-12">
                            <nav class="site-breadcrumb">
                                <ul>
                                    <li><a href="/">Ana Sayfa</a></li>
                                    <li><span>İletişim</span></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ANA İÇERİK: SOL + SAĞ YAN YANA -->
            <section class="elementor-section elementor-top-section elementor-element elementor-element-c985278 elementor-section-boxed">
                <div class="elementor-container elementor-column-gap-extended">
                    <div class="row">

                        <!-- SOL TARAF : HOW CAN WE HELP YOU -->
                        <div class="col-md-6">
                            <h2>Kısaca Biz</h2>

                            <p style="text-align: justify;" > 
                                @Genel.hakkimizda.kisaTanitim
                            </p>

                            <div class="row">
                             @*    <div class="col-md-6">
                                    <div class="contact-addresses">
                                        <div class="address-item">
                                            <span>Opening Hours</span>
                                            <div class="address-detail">
                                                Monday - Friday : 9am - 5pm<br />
                                                Weekend Closed
                                            </div>
                                        </div>
                                    </div>
                                </div> *@

                                <div class="col-md-12">
                                    <div class="contact-addresses">
                                        <div class="address-item">
                                            <span> Adres</span>
                                            <div class="address-detail">
                                             @Genel.hakkimizda.adres
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-4">
                                <div class="iconbox">
                                    <span> Telefon  </span>
                                    <h5> <a href="tel: @Genel.hakkimizda.telefon">   @Genel.hakkimizda.telefon </a> </h5>
                                </div>
                            </div>

                            <div class="mt-3">
                                <div class="iconbox">
                                    <span>E-Posta</span>
                                    <p>
                                       <a href="mailto:@Bovime.Genel.hakkimizda.ePosta">@Bovime.Genel.hakkimizda.ePosta </a>

                                    </p>
                                </div>
                            </div>

                            <div class="mt-4">
                                <span>
                                    Bizi sosyal medyada takip edin

                                </span>
                       <div class="mt-2 social-icons">
    <a href="#" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
    <a href="#" target="_blank"><i class="fab fa-youtube"></i></a>
    <a href="#" target="_blank"><i class="fab fa-pinterest"></i></a>
    <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
</div>
                            </div>
                        </div>
                         
                        <!-- SAĞ TARAF : GET IN TOUCH -->
                        <div class="col-md-6">
                            <h2>  Bize Ulaşın  </h2>

 

                            <!-- FORM -->
                            <form id="iletisimForm">
                                @Html.AntiForgeryToken()

                                @Html.AntiForgeryToken()

                                <!-- Honeypot alanı (botlar doldurur, kullanıcı görmez) -->
                                <input type="text" id="website" name="website" style="display:none" />

                                <!-- Form açılma zamanı -->
                                <input type="hidden" id="formTime" name="formTime" value="@DateTime.Now.Ticks" />

                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <label>Ad Soyad</label>
                                        <input id="ad" class="form-control" />
                                    </div>

                                    <div class="col-md-6 mb-3">
                                        <label>Telefon</label>
                                        <input id="telefon" class="form-control" />
                                    </div>

                                    <div class="col-md-6 mb-3">
                                        <label>E-Posta</label>
                                        <input id="ePosta" class="form-control" />
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <label>Konu *</label>
                                        <input id="konu" class="form-control" />
                                    </div>

                                    <div class="col-md-12 mb-3">
                                        <label>İletiniz</label>
                                        <textarea id="ileti" class="form-control" rows="5"></textarea>
                                    </div>

                                    <div class="col-md-12">
                                        <button type="button" onclick="iletisimGonder()" class="btn btn-primary w-100">
                                            Gönder
                                        </button>
                                    </div>
                                </div>
                            </form>

                            <div id="basari" class="alert alert-success d-none mt-3"></div>
                            <div id="hata" class="alert alert-danger d-none mt-3"></div>


                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>

<script>
    function iletisimGonder() {

        const data = {
            ad: document.getElementById("ad").value,
            telefon: document.getElementById("telefon").value,
            ePosta: document.getElementById("ePosta").value,
            konu: document.getElementById("konu").value,
            ileti: document.getElementById("ileti").value, 
        website: document.getElementById("website").value,
        formTime: document.getElementById("formTime").value
        };

        const token = document.querySelector('input[name="__RequestVerificationToken"]').value;

        fetch('/Iletisim/IletisimAjax', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'RequestVerificationToken': token
            },
            body: JSON.stringify(data)
        })
        .then(res => res.json())
        .then(res => {

            document.getElementById("basari").classList.add("d-none");
            document.getElementById("hata").classList.add("d-none");

            if (res.basarili) {
                document.getElementById("basari").innerText = res.mesaj;
                document.getElementById("basari").classList.remove("d-none");

                // formu temizle
                document.getElementById("iletisimForm").reset();
            }
            else {
                document.getElementById("hata").innerText = res.mesaj;
                document.getElementById("hata").classList.remove("d-none");
            }
        })
        .catch(err => {
            alert("Sunucu hatası oluştu");
            console.error(err);
        });
    }
</script>
